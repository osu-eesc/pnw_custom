<?php

/**
 * Implements hook_form_alter()
 */
function pnw_custom_form_alter(&$form, &$form_state, $form_id) {
 //  dpm($form_id, 'form_id');
	//dpm($form, 'form');

  switch ($form_id) {
    
    case 'views_form_related_images_reorder_images': 

      $form['actions']['submit']['#submit'][] = 'reorder_images_submit';
      
    break;

    case 'image_node_form':
      // add default text to image field
      $form['field_image']['und'][0]['#default_value']['alt'] = t('Photo of insect');
    break;

    case 'homepagephoto_node_form':
      // add default text to image field
      $form['field_photo']['und'][0]['#default_value']['alt'] = t('Homepage photo');

    break;

  }

}



/**
 * Redirects user to node view after reordering images
 */
function reorder_images_submit($form, &$form_state) {
  drupal_set_message('Images reordered');
  $form_state['redirect'] = 'node/' . $form_state['build_info']['args'][0]->args[0];
}


 